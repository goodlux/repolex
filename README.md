# CodeDoc 2.0 ğŸŸ¡ - The Semantic PAC-MAN

**ğŸŸ¡ PAC-MAN for your codebase!** Advanced semantic code analysis that chomps through complexity and spits out perfect documentation.

*CodeDoc 2.0 eats all the semantic dots in your repository and transforms them into intelligent, queryable knowledge!*

## ğŸŒŸ What Makes This Special

- **ğŸŸ¡ Semantic Powerhouse**: PAC-MAN-style analysis that devours complexity
- **ğŸ§  19-Graph Architecture**: Stable identities + version implementations 
- **âš¡ Nuclear Updates**: Safe rebuilds that never break references
- **ğŸ® CLI/TUI Combo**: Both command-line and PAC-MAN dashboard interfaces
- **ğŸ“¦ Ultra-Compact Export**: 125x compressed semantic DNA packages
- **ğŸ”— GitHub Integration**: Direct source links with perfect line numbers
- **â° ABC Events**: Temporal tracking of code evolution
- **ğŸš€ Multi-Repo Intelligence**: Query across entire codebases

## ğŸ® PAC-MAN Power Pills

### Core Power Pills
- **Repository Chomping**: `codedoc repo add org/repo` - Om nom nom! 
- **Semantic Digestion**: `codedoc graph add org/repo version` - Crunch those functions!
- **Knowledge Pills**: `codedoc export msgpack org/repo version` - Perfect LLM snacks!
- **Ghost Hunting**: `codedoc query functions "search term"` - Find hidden functions!

### Ghost Modes (Advanced)
- **OPML Maps**: Human-browsable hierarchical documentation
- **Version Time Travel**: Compare and analyze across releases  
- **Cross-Repository Vision**: Query across multiple codebases
- **Temporal Events**: Track how code evolves over time

## ğŸš€ Quick Start

```bash
# Install PAC-MAN for your codebase
uv add codedoc

# Let PAC-MAN eat a repository
codedoc repo add pixeltable/pixeltable

# Digest it into semantic intelligence  
codedoc graph add pixeltable/pixeltable v0.4.14

# Export ultra-compact semantic DNA
codedoc export msgpack pixeltable/pixeltable v0.4.14

# Launch the PAC-MAN dashboard
codedoc  # No args = TUI interface!
```

## ğŸ•¹ï¸ Game Controls (Commands)

### Repository Management (Chomping Files)
```bash
codedoc repo add <org/repo>              # ğŸŸ¡ Chomp a new repository
codedoc repo list                        # ğŸ“‹ See all chomped repos
codedoc repo show <org/repo>             # ğŸ” Examine repository details  
codedoc repo update <org/repo>           # ğŸ”„ Refresh with new commits
codedoc repo remove <org/repo>           # ğŸ’¥ Delete everything (careful!)
```

### Graph Operations (Semantic Digestion)
```bash
codedoc graph add <org/repo> [version]   # ğŸ§  Digest code into 19 semantic graphs
codedoc graph remove <org/repo>          # ğŸ—‘ï¸ Remove semantic intelligence
codedoc graph update <org/repo>          # âš¡ Nuclear rebuild (safe!)
codedoc graph list                       # ğŸ“Š Show all semantic graphs
```

### Export Operations (Creating Power Pills)
```bash
codedoc export opml <org/repo> <version>     # ğŸ“‘ Human-browsable hierarchy
codedoc export msgpack <org/repo> <version>  # ğŸ§¬ Ultra-compact semantic DNA
codedoc export docs <org/repo> <version>     # ğŸ“š Beautiful documentation
```

### Query Operations (Ghost Hunting)
```bash
codedoc query functions "create table"       # ğŸ” Hunt for specific functions
codedoc query sparql "SELECT ?name WHERE..." # ğŸ’¾ Raw SPARQL power
```

## ğŸ—ï¸ Architecture: The PAC-MAN Brain

### The 19-Graph Semantic Maze
CodeDoc creates 19 different graphs per repository, like PAC-MAN's multi-level maze:

```
ğŸŸ¡ Stable Function Identities  â†â†’  Version-Specific Implementations
     â†“                                      â†“
ğŸ“ File Structure Graphs        â†â†’  Git Intelligence Graphs  
     â†“                                      â†“
â° ABC Event Tracking          â†â†’  Evolution Analysis
     â†“                                      â†“
ğŸ”§ Processing Metadata         â†â†’  Cross-Version Patterns
```

### Hybrid Identity Model (PAC-MAN's Secret)
- **Stable Identities**: Functions get permanent IDs that never change
- **Version Implementations**: Each release gets its own implementation
- **Nuclear Updates**: Rebuild versions without breaking cross-references
- **Ghost Protection**: Dependencies survive version changes

## ğŸ“Š Power Levels (File Sizes)

```
ğŸŸ¡ Full Oxigraph Database:    ~100MB  (The complete maze)
ğŸ”¥ Semantic DNA (.msgpack):   ~800KB  (125x compressed power pill!)
ğŸ“‹ OPML Export:              ~2MB    (Human-readable map)
ğŸ“š Generated Docs:           ~5MB    (Beautiful documentation)
```

## ğŸ¨ PAC-MAN Dashboard (TUI)

Launch the interactive dashboard with just `codedoc`:

```
â”Œâ”€ CodeDoc v2.0 ğŸŸ¡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                               â”‚
â”‚  ğŸŸ¡ PAC-MAN Status              ğŸ“Š Power Pill Storage         â”‚
â”‚  â”œâ”€ Repositories: 3            â”œâ”€ Semantic DB: 2.3GB        â”‚
â”‚  â”œâ”€ Graphs Eaten: 152          â”œâ”€ Exports: 45MB             â”‚
â”‚  â”œâ”€ Functions Chomped: 1,247   â””â”€ Path: ~/.codedoc/         â”‚
â”‚  â””â”€ Last Chomp: 2h ago                                       â”‚
â”‚                                                               â”‚
â”‚  ğŸ’ Repository Fruits                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸŸ¡ pixeltable/pixeltable    [â—â—â—â—‹] 3 versions chomped   â”‚ â”‚
â”‚  â”‚     â”œâ”€ v0.2.30 âœ… Digested   Functions: 127            â”‚ â”‚
â”‚  â”‚     â”œâ”€ v0.3.15 âœ… Digested   Ghosts: 12 private        â”‚ â”‚
â”‚  â”‚     â””â”€ v0.4.14 ğŸŸ¡ Chomping   Size: 2.3MB               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚  ğŸ® Power Moves                                               â”‚
â”‚  [C] Chomp Repo  [D] Digest  [E] Export  [Q] Query  [?] Help â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§¬ Semantic DNA (.msgpack)

Every repository gets its own semantic DNA - a tiny file containing the complete essence:

```python
# Load semantic DNA into any LLM
import msgpack

with open('pixeltable-v0.4.14.msgpack', 'rb') as f:
    semantic_dna = msgpack.unpackb(f.read())

# Perfect AI knowledge of the entire codebase!
print(f"Functions: {len(semantic_dna['functions'])}")
print(f"Patterns: {len(semantic_dna['patterns'])}")
print(f"Compression: 125x smaller than full RDF!")
```

## ğŸ¯ Victory Conditions (Success Metrics)

- âœ… **Speed**: Sub-second function discovery across 1000+ functions
- âœ… **Compression**: 125x reduction while preserving 95% semantic value
- âœ… **Safety**: Nuclear updates never break cross-graph references  
- âœ… **Intelligence**: Natural language queries find exactly what you need
- âœ… **Fun**: PAC-MAN makes semantic analysis actually enjoyable! ğŸŸ¡

## ğŸŒˆ The PAC-MAN Philosophy

*"Every function is a dot to be eaten. Every repository is a maze to be mastered. Every semantic relationship is a power pill that makes you stronger."*

CodeDoc 2.0 doesn't just parse your code - it **devours complexity and transforms it into pure intelligence**.

## ğŸ› ï¸ Development

```bash
# Clone the PAC-MAN
git clone https://github.com/your-repo/codedoc.git
cd codedoc

# Feed the PAC-MAN dependencies  
uv sync --dev

# Run tests
uv run pytest

# Launch development TUI
uv run python -m codedoc

# Format like a champion
uv run black codedoc/
uv run ruff check codedoc/
```

## ğŸ“„ License

MIT License - Feel free to clone PAC-MAN for your own semantic adventures!

---

*ğŸŸ¡ PAC-MAN is ready to chomp through your codebase and spit out semantic gold!*

**Waka waka waka!** ğŸ‘»ğŸŸ¡ğŸ‘»
